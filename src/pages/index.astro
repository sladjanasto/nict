---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import HeroWithI18n from '../components/HeroWithI18n.astro';
import ServicesSimple from '../components/ServicesSimple.astro';
import AboutSimple from '../components/AboutSimple.astro';
import ProjectsExpandable from '../components/ProjectsExpandable.astro';
import PackagesTable from '../components/PackagesTable.astro';
import TestimonialsSimple from '../components/TestimonialsSimple.astro';
import Footer from '../components/Footer.astro';
import { getLangFromUrl, getUITranslations } from '../utils/i18n';

const lang = getLangFromUrl(Astro.url);
const ui = await getUITranslations(lang);

// SEO data based on language
const seoData = {
	en: {
		title: "NICT - drop IT on us | Strategic IT Leadership & Digital Transformation", 
		description: "NICT - drop IT on us. Technology + Marketing + Cost Control = Measurable Business Outcomes. Professional IT services: Interim Management, Cloud Migration, AI Consulting."
	},
	de: {
		title: "NICT - drop IT on us | Strategische IT-Führung & Digitale Transformation",
		description: "NICT - drop IT on us. Technologie + Marketing + Kostenkontrolle = Messbare Geschäftsergebnisse. Professionelle IT-Dienstleistungen."
	}
};

const currentSeo = seoData[lang as keyof typeof seoData] || seoData.en;
---

<Layout 
	title={currentSeo.title}
	description={currentSeo.description}
	lang={lang}
	canonical={Astro.url.href}
>
	<Header />
	<main>
		<HeroWithI18n />
		<div class="section-divider"></div>
		<ServicesSimple />
		<PackagesTable />
		<div class="section-divider"></div>
		<AboutSimple />
		<div class="section-divider"></div>
		<ProjectsExpandable />
		<TestimonialsSimple />
	</main>
	<Footer />
</Layout>
